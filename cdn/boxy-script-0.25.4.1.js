let d,S="open-modal",C="close-modal",y="modal";const k=o=>{let s=o.target.closest("["+S+"]");if(s&&(d=s.getAttribute(S),d!=null&&d!="")){let m=document.querySelectorAll("["+y+'="'+d+'"].b-modal');m.length==1?m[0].classList.add("opened"):m.length>1?console.error("Se ha encontrado "+m.length+" modales con el mismo valor "):console.error('No se ha encontrado una modal definida asÃ­: modal="'+d+'"')}let n=!1,l=!1,a=!1,u=!1;d&&(n=o.target.closest("["+y+'="'+d+'"].b-modal'),l=!o.target.closest("["+y+'="'+d+'"].b-modal [bx-content]'),a=o.target.closest("["+y+"].b-modal [bx-content] ["+C+"]"),u=o.target.closest("["+y+"].b-modal [bx-content] [maximize-modal]")),(n&&l||a&&n)&&q(n),n&&u&&(console.log("hola"),n.classList.toggle("maximized"))};function I(){let o=d?document.querySelector('[modal="'+d+'"].b-modal.opened'):!1;o&&q(o)}function q(o){o.classList.add("closed"),setTimeout(()=>{o.classList.remove("opened"),o.classList.remove("closed")},400)}const W=o=>{let s=o.target.closest(".b-windows");if(s){let n=s.querySelectorAll("[bx-head] [bx-title]");n.forEach((l,a)=>{o.target==l&&x(s,a,n.length)})}};function T(){document.querySelectorAll(".b-windows").forEach(o=>{let s=0,n=o.querySelectorAll("[bx-head] [bx-title]");n.forEach((l,a)=>{s<1&&l.hasAttribute("default")?(console.log(l),s++,x(o,a,n.length)):s<1&&x(o,0,n.length)})})}function x(o,s,n){let l=o.querySelectorAll("[bx-content]");n==l.length?l.forEach((a,u)=>{s==u?a.classList.add("opened"):a.classList.remove("opened")}):console.error("Error en b-windows: La cantidad de titles no es igual al content")}let f=null;const O=()=>{const o=document.querySelectorAll(".b-nav-menu>li>ul");function s(){f&&(f.style.opacity="",f.style.pointerEvents="",f=null)}o.forEach(n=>{n.addEventListener("mouseover",function(l){l.target.tagName==="LI"&&l.target.children.length>1?(s(),Array.from(l.target.children).forEach(u=>{u.tagName==="UL"&&(f=u,f.style.opacity="1",f.style.pointerEvents="all")})):f&&l.target.parentElement===n&&l.target.tagName==="LI"&&l.target.children.length<=1&&s()}),n.addEventListener("mouseout",function(l){n.contains(l.relatedTarget)||s()})})},$=()=>{{let N=function(e=!1){e?document.body.setAttribute("version",s):document.body.removeAttribute("version")},A=function(){document.querySelectorAll("[bg-img]").forEach(function(e){let r=e.getAttribute("bg-img");r&&(e.style.backgroundImage="url("+r+")",e.setAttribute("bg-img",""))})},H=function(e,r){{let t=[];t.primary="blue",t.secondary="gray",t.success="green",t.warning="yellow",t.danger="red",t.info="light-blue",t.light="white",t.dark="dark-gray";for(let i in t)v("color",i,t[i]),v("bg",i,t[i]),v("tx",i,t[i])}},v=function(e,r,t,i){document.querySelectorAll("["+e+"]").forEach(function(c){c.attributes[e].value==r&&(c.setAttribute("rs",c.attributes[e].value),c.setAttribute(e,t))})},M=function(){document.body.addEventListener("click",function(e){let r=e.target.closest("[mobile-side]"),t=document.querySelector(".b-side[opened]");r&&(r.parentNode.hasAttribute("opened")?r.parentNode.removeAttribute("opened"):(t&&t.removeAttribute("opened"),r.parentNode.setAttribute("opened",""))),!e.target.closest(".b-side[opened]")&&t&&t.removeAttribute("opened");let c=e.target.closest("[open-nav]");if(c&&n!=E()&&(l=!1),!l)c&&(c.parentNode.querySelector("[bx-content]").setAttribute("opened",""),l=!0,n=E());else if(!e.target.closest(".b-header [bx-content][opened]")){let h=document.querySelector(".b-header [bx-content][opened]");h&&(h.removeAttribute("opened"),l=!1)}let b=e.target.closest(".b-menu [bx-title]");if(b){let w=b.parentNode.hasAttribute("autoclose"),h=b.parentNode.querySelectorAll("[bx-title]"),L=b.parentNode.querySelectorAll("[bx-content]"),g=b.nextElementSibling;w&&h&&L&&(h.forEach(p=>{p!=b&&p.removeAttribute("active")}),L.forEach(p=>{p!=g&&(p.style.maxHeight=null)})),b.setAttribute("active",""),g.hasAttribute("bx-content")&&(g.style.maxHeight?(g.style.maxHeight=null,b.removeAttribute("active")):g.style.maxHeight=g.scrollHeight+"px")}k(e),W(e)}),window.addEventListener("keydown",e=>{e.key==="Escape"&&I()}),document.addEventListener("mousedown",function(e){let r=e.target.closest('[class^="b-btn"][ripple]');if(r){const t=document.createElement("span"),i=Math.max(r.clientWidth,r.clientHeight),c=i/2;t.style.width=t.style.height=`${i}px`,t.style.left=`${e.clientX-r.offsetLeft-c}px`,t.style.top=`${e.clientY-r.offsetTop-c}px`,t.classList.add("ripple"),r.appendChild(t),setTimeout(()=>r.removeChild(t),500)}})};const s="0.5.15";window.addEventListener("load",e=>{o()}),window.addEventListener("DOMContentLoaded",()=>{console.log("Boxy "+s+" is mounted"),M()});var o=()=>{N(!1),A(),T(),O()};let n="",l=!1;const a=document.body,u={attributes:!0,childList:!0,subtree:!0},m=(e,r)=>{H(),A()};new MutationObserver(m).observe(a,u);const E=()=>location.hash.slice(1).toLocaleLowerCase().split("/")[1]||"/"}};export{$ as b};
